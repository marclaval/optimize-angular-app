{"version":3,"file":"modal-window.js","sourceRoot":"","sources":["../../../src/modal/modal-window.ts"],"names":[],"mappings":"OAAO,EACL,SAAS,EACT,MAAM,EACN,YAAY,EACZ,KAAK,EACL,UAAU,EACV,QAAQ,EAIT,MAAM,qBAAqB;OAErB,EAAC,mBAAmB,EAAC,MAAM,yBAAyB;AAC3D;IAUA;;;OAGG;IACH,YAAoB,MAAkB,EAC9B,SAAmB;QADP,WAAM,GAAN,MAAM,CAAY;QAC9B,cAAS,GAAT,SAAS,CAAU;QAXxB,aAAQ,GAAqB,IAAI,CAAC;QAClC,aAAQ,GAAG,IAAI,CAAC;QAIhB,iBAAY,GAAG,IAAI,YAAY,EAAE,CAAC;IAMP,CAAC;IAC/B;;;OAGG;IACH,aAAa,CAAC,MAAM;QAChB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,KAAK,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAC1E,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;QACnD,CAAC;IACH,CAAC;IACH;;;OAGG;IACH,MAAM,CAAC,MAAM;QACT,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC;IACH,CAAC;IACH;;;OAGG;IACH,OAAO,CAAC,MAAM,IAAU,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IACzD;;OAEG;IACH,QAAQ;QACJ,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC;QAC3C,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,EAAE,YAAY,EAAE,IAAI,CAAC,CAAC;IACpE,CAAC;IACH;;OAEG;IACH,eAAe;QACX,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YAChE,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;QAC7E,CAAC;IACH,CAAC;IACH;;OAEG;IACH,WAAW;QACP,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YACnE,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;QACrE,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;QACjE,CAAC;QAED,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;IACrE,CAAC;AA+BH,CAAC;AA9BM,yBAAU,GAA0B;IAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;gBACxB,QAAQ,EAAE,kBAAkB;gBAC5B,IAAI,EAAE;oBACJ,SAAS,EAAE,4DAA4D;oBACvE,MAAM,EAAE,QAAQ;oBAChB,UAAU,EAAE,IAAI;oBAChB,OAAO,EAAE,iBAAiB;oBAC1B,aAAa,EAAE,gBAAgB;oBAC/B,SAAS,EAAE,uBAAuB;iBACnC;gBACD,QAAQ,EAAE;;;;KAIP;aACJ,EAAG,EAAE;CACL,CAAC;AACF,kBAAkB;AACX,6BAAc,GAAmE,MAAM;IAC9F,EAAC,IAAI,EAAE,UAAU,GAAG;IACpB,EAAC,IAAI,EAAE,QAAQ,GAAG;CACjB,CAAC;AACK,6BAAc,GAA2C;IAChE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAC9B,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAC9B,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAC1B,aAAa,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IACjC,cAAc,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,SAAS,EAAG,EAAE,EAAE;CACvD,CACA;AAED;IACA,gBAAgB;IAChB,cAAc,CAAC,UAAU,CAAC;IAC1B;;;OAGG;IACH,cAAc,CAAC,cAAc,CAAC;IAC9B,gBAAgB;IAChB,cAAc,CAAC,cAAc,CAAC;IAC9B,gBAAgB;IAChB,cAAc,CAAC,SAAS,CAAC,YAAY,CAAC;IACtC,gBAAgB;IAChB,cAAc,CAAC,SAAS,CAAC,QAAQ,CAAC;IAClC,gBAAgB;IAChB,cAAc,CAAC,SAAS,CAAC,QAAQ,CAAC;IAClC,gBAAgB;IAChB,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC;IAC9B,gBAAgB;IAChB,cAAc,CAAC,SAAS,CAAC,WAAW,CAAC;IACrC,gBAAgB;IAChB,cAAc,CAAC,SAAS,CAAC,YAAY,CAAC;IACtC,gBAAgB;IAChB,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC;IAChC,gBAAgB;IAChB,cAAc,CAAC,SAAS,CAAC,SAAS,CAAC;AACnC,CAAC","sourcesContent":["import {\n  Component,\n  Output,\n  EventEmitter,\n  Input,\n  ElementRef,\n  Renderer,\n  OnInit,\n  AfterViewInit,\n  OnDestroy\n} from '@angular/core';\n\nimport {ModalDismissReasons} from './modal-dismiss-reasons';\nexport class NgbModalWindow implements OnInit,\n    AfterViewInit, OnDestroy {\nprivate _elWithFocus: Element;  // element that is focused prior to modal opening\n\n   backdrop: boolean | string = true;\n   keyboard = true;\n   size: string;\n   windowClass: string;\n\n   dismissEvent = new EventEmitter();\n/**\n * @param {?} _elRef\n * @param {?} _renderer\n */\nconstructor(private _elRef: ElementRef,\nprivate _renderer: Renderer) {}\n/**\n * @param {?} $event\n * @return {?}\n */\nbackdropClick($event): void {\n    if (this.backdrop === true && this._elRef.nativeElement === $event.target) {\n      this.dismiss(ModalDismissReasons.BACKDROP_CLICK);\n    }\n  }\n/**\n * @param {?} $event\n * @return {?}\n */\nescKey($event): void {\n    if (this.keyboard && !$event.defaultPrevented) {\n      this.dismiss(ModalDismissReasons.ESC);\n    }\n  }\n/**\n * @param {?} reason\n * @return {?}\n */\ndismiss(reason): void { this.dismissEvent.emit(reason); }\n/**\n * @return {?}\n */\nngOnInit() {\n    this._elWithFocus = document.activeElement;\n    this._renderer.setElementClass(document.body, 'modal-open', true);\n  }\n/**\n * @return {?}\n */\nngAfterViewInit() {\n    if (!this._elRef.nativeElement.contains(document.activeElement)) {\n      this._renderer.invokeElementMethod(this._elRef.nativeElement, 'focus', []);\n    }\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    if (this._elWithFocus && document.body.contains(this._elWithFocus)) {\n      this._renderer.invokeElementMethod(this._elWithFocus, 'focus', []);\n    } else {\n      this._renderer.invokeElementMethod(document.body, 'focus', []);\n    }\n\n    this._elWithFocus = null;\n    this._renderer.setElementClass(document.body, 'modal-open', false);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ngb-modal-window',\n  host: {\n    '[class]': '\"modal fade show\" + (windowClass ? \" \" + windowClass : \"\")',\n    'role': 'dialog',\n    'tabindex': '-1',\n    'style': 'display: block;',\n    '(keyup.esc)': 'escKey($event)',\n    '(click)': 'backdropClick($event)'\n  },\n  template: `\n    <div [class]=\"'modal-dialog' + (size ? ' modal-' + size : '')\" role=\"document\">\n        <div class=\"modal-content\"><ng-content></ng-content></div>\n    </div>\n    `\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'backdrop': [{ type: Input },],\n'keyboard': [{ type: Input },],\n'size': [{ type: Input },],\n'windowClass': [{ type: Input },],\n'dismissEvent': [{ type: Output, args: ['dismiss', ] },],\n};\n}\n\nfunction NgbModalWindow_tsickle_Closure_declarations() {\n/** @type {?} */\nNgbModalWindow.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgbModalWindow.ctorParameters;\n/** @type {?} */\nNgbModalWindow.propDecorators;\n/** @type {?} */\nNgbModalWindow.prototype._elWithFocus;\n/** @type {?} */\nNgbModalWindow.prototype.backdrop;\n/** @type {?} */\nNgbModalWindow.prototype.keyboard;\n/** @type {?} */\nNgbModalWindow.prototype.size;\n/** @type {?} */\nNgbModalWindow.prototype.windowClass;\n/** @type {?} */\nNgbModalWindow.prototype.dismissEvent;\n/** @type {?} */\nNgbModalWindow.prototype._elRef;\n/** @type {?} */\nNgbModalWindow.prototype._renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}