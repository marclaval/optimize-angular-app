{"version":3,"file":"popup.js","sourceRoot":"","sources":["../../../src/util/popup.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Injector,\n  TemplateRef,\n  ViewRef,\n  ViewContainerRef,\n  Renderer,\n  ComponentRef,\n  ComponentFactory,\n  ComponentFactoryResolver\n} from '@angular/core';\nexport class ContentRef {\n/**\n * @param {?} nodes\n * @param {?=} viewRef\n * @param {?=} componentRef\n */\nconstructor(public nodes: any[],\npublic viewRef?: ViewRef,\npublic componentRef?: ComponentRef<any>) {}\n}\n\nfunction ContentRef_tsickle_Closure_declarations() {\n/** @type {?} */\nContentRef.prototype.nodes;\n/** @type {?} */\nContentRef.prototype.viewRef;\n/** @type {?} */\nContentRef.prototype.componentRef;\n}\n\nexport class PopupService<T> {\nprivate _windowFactory: ComponentFactory<T>;\nprivate _windowRef: ComponentRef<T>;\nprivate _contentRef: ContentRef;\n/**\n * @param {?} type\n * @param {?} _injector\n * @param {?} _viewContainerRef\n * @param {?} _renderer\n * @param {?} componentFactoryResolver\n */\nconstructor(\n      type: any,\nprivate _injector: Injector,\nprivate _viewContainerRef: ViewContainerRef,\nprivate _renderer: Renderer,\n      componentFactoryResolver: ComponentFactoryResolver) {\n    this._windowFactory = componentFactoryResolver.resolveComponentFactory<T>(type);\n  }\n/**\n * @param {?=} content\n * @param {?=} context\n * @return {?}\n */\nopen(content?: string | TemplateRef<any>, context?: any): ComponentRef<T> {\n    if (!this._windowRef) {\n      this._contentRef = this._getContentRef(content, context);\n      this._windowRef =\n          this._viewContainerRef.createComponent(this._windowFactory, 0, this._injector, this._contentRef.nodes);\n    }\n\n    return this._windowRef;\n  }\n/**\n * @return {?}\n */\nclose() {\n    if (this._windowRef) {\n      this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView));\n      this._windowRef = null;\n\n      if (this._contentRef.viewRef) {\n        this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));\n        this._contentRef = null;\n      }\n    }\n  }\n/**\n * @param {?} content\n * @param {?=} context\n * @return {?}\n */\nprivate _getContentRef(content: string | TemplateRef<any>, context?: any): ContentRef {\n    if (!content) {\n      return new ContentRef([]);\n    } else if (content instanceof TemplateRef) {\n      const /** @type {?} */ viewRef = this._viewContainerRef.createEmbeddedView( /** @type {?} */((<TemplateRef<T>>content)), context);\n      return new ContentRef([viewRef.rootNodes], viewRef);\n    } else {\n      return new ContentRef([[this._renderer.createText(null, `${content}`)]]);\n    }\n  }\n}\n\nfunction PopupService_tsickle_Closure_declarations() {\n/** @type {?} */\nPopupService.prototype._windowFactory;\n/** @type {?} */\nPopupService.prototype._windowRef;\n/** @type {?} */\nPopupService.prototype._contentRef;\n/** @type {?} */\nPopupService.prototype._injector;\n/** @type {?} */\nPopupService.prototype._viewContainerRef;\n/** @type {?} */\nPopupService.prototype._renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}